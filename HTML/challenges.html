<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>⚔️ Git Warrior: Code Conquest</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../CSS/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <style>
        
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Wrap your main game content */
        .game-content {
            flex: 1;
            padding-top: 20px;
        }

        /* Ensure footer stays at bottom */
        .footer {
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 4rem 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: auto;
        }

        /* Add container class to footer if missing */
        .footer .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.1);
            text-shadow: 0 0 20px rgba(6, 255, 165, 0.8);
        }

        .logo i {
            color: #ebedec;
            font-size: 1.7rem;
        }

        .navbar{
            position: static;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 50%, #2d2d5f 100%);
            color: #ffffff;
            overflow-x: hidden;
        }

        .hp-bar {
            height: 8px;
            background: linear-gradient(90deg, #ef4444 var(--hp), rgba(239, 68, 68, 0.2) 0);
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .xp-bar {
            height: 6px;
            background: linear-gradient(90deg, #3b82f6 var(--xp), transparent 0);
            border-radius: 3px;
        }

        .mission-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .mission-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
        }

        .mission-card.active {
            border-color: #ef4444;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
            animation: pulse-glow 2s infinite;
        }

        .mission-card.completed {
            border-color: #22c55e;
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05));
        }

        .mission-card.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(239, 68, 68, 0.3); }
            50% { box-shadow: 0 0 30px rgba(239, 68, 68, 0.6); }
        }

        .terminal-input:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.5);
        }

        .damage-animation {
            animation: damage-shake 0.5s ease-in-out;
        }

        @keyframes damage-shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .level-badge {
            background: linear-gradient(45deg, #ef4444, #dc2626);
            animation: warrior-glow 2s ease-in-out infinite alternate;
        }

        @keyframes warrior-glow {
            from { box-shadow: 0 0 15px rgba(239, 68, 68, 0.5); }
            to { box-shadow: 0 0 25px rgba(239, 68, 68, 0.8); }
        }

        @media (max-width: 768px) {
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .death-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            z-index: 9999;
        }

        /* Animated background container */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Allows clicks to pass through */
            z-index: -1; /* Puts it behind content */
            /* Background gradient */
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 50%, #2d2d5f 100%);
        }

        /* Particles for background animation */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00ff88;
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
            opacity: 0.6;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
    </style>
</head>
<body class="bg-gray-900 text-gray-100">
    <script>
    const user = localStorage.getItem("gitgarden_auth");
    if (!user) {
        window.location.href = "../index.html"; // Redirect to home if not logged in
    }
    </script>

    <!-- Animated Background -->
    <div class="animated-bg">
    </div>
    <!-- Auth Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="auth-modal">
            <button class="modal-close" id="closeModal">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Welcome Back</h2>
                <p class="modal-subtitle" id="modalSubtitle">Sign in to continue your Git journey</p>
            </div>
            <form class="auth-form" id="authForm">
                <div class="form-group">
                    <input type="email" class="form-input" placeholder="Email address" required>
                    <i class="form-input-icon fas fa-envelope"></i>
                </div>
                <div class="form-group">
                    <input type="password" class="form-input" id="passwordInput" placeholder="Password" required>
                    <i class="form-input-icon fas fa-eye password-toggle" id="passwordToggle"></i>
                </div>
                <div class="form-group" id="confirmPasswordGroup" style="display: none;">
                    <input type="password" class="form-input" id="confirmPasswordInput" placeholder="Confirm Password">
                    <i class="form-input-icon fas fa-eye password-toggle" id="confirmPasswordToggle"></i>
                </div>
                <button type="submit" class="form-submit" id="submitBtn">
                    <span class="loading-spinner"></span>
                    <span id="submitText">Sign In</span>
                </button>
            </form>
            <div class="auth-divider">
                <span>or continue with</span>
            </div>
            <div class="social-auth">
                <button class="social-btn github" id="githubLoginBtn">
                    <i class="fab fa-github"></i>
                    GitHub
                </button>
                <button class="social-btn google" id="googleLoginBtn">
                    <i class="fab fa-google"></i>
                    Google
                </button>
            </div>
            <div class="auth-switch">
                <span id="switchText">Don't have an account?</span>
                <a href="#" id="switchMode">Sign up</a>
            </div>
        </div>
    </div>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fab fa-git-alt"></i>
                GitGarden
            </div>
            <ul class="nav-menu">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../index.html#levels">Levels</a></li>
                <li><a href="challenges.html">Challenges</a></li>
                <li><a href="about_us.html">About Us</a></li>
                <li><a href="contact_us.html">Contact</a></li>
            </ul>
            <!-- Auth Buttons (shown when not logged in) -->
            <div class="auth-buttons" id="authNavButtons">
                <button class="auth-btn login-btn" id="loginBtn">Login</button>
                <button class="auth-btn signup-btn" id="signupBtn">Sign Up</button>
            </div>

            <!-- User Icon (shown when logged in, initially hidden) -->
            <div class="user-icon-container" id="userIconNav">
                <i class="fas fa-user"></i>
                <span id="userNameDisplay">User</span>
                <button class="auth-btn login-btn" id="logoutBtn" style="margin-left: 10px;">Logout</button>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>
    <div class="game-content">
    <!-- Main Game UI -->
    <div class="max-w-7xl mx-auto px-4 pt-0">
        <!-- Player Stats Header -->
        <header class="py-6 border-b border-gray-800">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center">
                    <div class="level-badge px-4 py-2 rounded-full mr-4">
                        <span class="text-white font-bold">⚔️ Level <span id="level">1</span></span>
                    </div>
                    <div>
                        <h1 class="text-4xl font-bold bg-gradient-to-r from-red-400 to-orange-500 bg-clip-text text-transparent">
                            Git Warrior: Code Conquest
                        </h1>
                        <p class="text-gray-400 mt-1">Battle through Git challenges to become a legend</p>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-2xl font-bold text-red-400" id="progress">0/50</div>
                    <div class="text-gray-400">Battles Won</div>
                </div>
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-3 gap-8 py-8">
                        <!-- Current Battle -->
            <div class="lg:col-span-2 bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold flex items-center">
                        <i class="fas fa-sword text-red-400 mr-3"></i>
                        <span id="mission-title">Initialize Your Arsenal</span>
                    </h2>
                    <div class="flex items-center space-x-2">
                        <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm" id="difficulty">Beginner</span>
                        <span class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-sm" id="mission-xp">+50 XP</span>
                    </div>
                </div>
                
                <div class="mb-6">
                    <p class="text-gray-300 mb-4" id="mission-description">
                        Welcome to the battlefield, warrior! Your first mission is to initialize a Git repository. 
                        Think about what command creates a new repository from scratch.
                    </p>
                    
                    <div class="bg-black rounded-lg p-4 mb-4">
                        <div class="flex items-center text-green-400 font-mono text-sm mb-2">
                            <span class="mr-2">warrior-project/</span>
                            <span class="text-gray-500" id="branch-status">no git repo</span>
                        </div>
                        <div class="flex items-center">
                            <span class="text-green-400 mr-2">$</span>
                            <input type="text" class="terminal-input bg-transparent w-full text-green-400 font-mono" 
                                   placeholder="Enter your battle command..." autofocus id="command-input">
                        </div>
                        <div class="text-gray-500 text-xs mt-2">Press Enter to execute your command</div>
                    </div>
                </div>

                <div class="flex space-x-3">
                    <button class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center transition-colors" id="attack-button">
                        <i class="fas fa-sword mr-2"></i> Attack!
                    </button>
                    <button class="bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded-lg flex items-center transition-colors" id="hint-button">
                        <i class="fas fa-shield-alt mr-2"></i> Hint (-25 HP)
                    </button>
                    <button class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg flex items-center ml-auto transition-colors" id="retreat-button">
                        <i class="fas fa-flag mr-2"></i> Retreat (-50 HP)
                    </button>
                </div>

                <!-- Hint Box -->
                <div class="mt-4 bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 hidden" id="hint-box">
                    <div class="flex items-start">
                        <i class="fas fa-shield-alt text-yellow-400 mr-3 mt-1"></i>
                        <div>
                            <h4 class="text-yellow-400 font-semibold mb-2">💡 Battle Hint</h4>
                            <p class="text-gray-300" id="hint-text">
                                You need to create a new Git repository. Think about the command that initializes version control in a directory.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Success Box -->
                <div class="mt-4 bg-green-900/20 border border-green-600/30 rounded-lg p-4 hidden" id="success-box">
                    <div class="flex items-start">
                        <i class="fas fa-trophy text-green-400 mr-3 mt-1"></i>
                        <div>
                            <h4 class="text-green-400 font-semibold mb-2">⚔️ Victory!</h4>
                            <p class="text-gray-300" id="success-text">You have successfully initialized your Git repository!</p>
                        </div>
                    </div>
                </div>

                <!-- Error Box -->
                <div class="mt-4 bg-red-900/20 border border-red-600/30 rounded-lg p-4 hidden" id="error-box">
                    <div class="flex items-start">
                        <i class="fas fa-skull text-red-400 mr-3 mt-1"></i>
                        <div>
                            <h4 class="text-red-400 font-semibold mb-2">💀 Attack Failed!</h4>
                            <p class="text-gray-300" id="error-text">Your command was not effective. Try again, warrior!</p>
                        </div>
                    </div>
                </div>

                <!-- Battle Terminal -->
                <div class="mt-6 bg-gray-900/50 rounded-xl p-4 border border-gray-600">
                    <div class="flex items-center mb-3">
                        <h4 class="text-lg font-bold flex items-center">
                            <i class="fas fa-terminal text-green-400 mr-2"></i> War Terminal
                        </h4>
                        <div class="ml-auto flex space-x-2">
                            <button class="text-xs bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded-full flex items-center transition-colors" id="clear-terminal">
                                <i class="fas fa-trash mr-1 text-red-400"></i> Clear
                            </button>
                            <button class="text-xs bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded-full flex items-center transition-colors" id="help-terminal">
                                <i class="fas fa-question mr-1 text-yellow-400"></i> Help
                            </button>
                        </div>
                    </div>
                    
                    <div class="bg-black rounded-lg p-3 h-40 overflow-y-auto font-mono text-sm" id="terminal-output">
                        <div class="text-red-400 font-bold">GIT WARRIOR TERMINAL </div>
                        <div class="text-gray-400 mb-4">Ready for battle! Complete missions to become a Git legend.</div>
                        <div class="text-yellow-400 mb-2">Use 'help' to see available system commands</div>
                        
                        <div class="flex items-center text-green-400">
                            <span>warrior@battlefield:~$ </span>
                            <input type="text" class="terminal-input bg-transparent flex-grow ml-1" id="terminal-input">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar -->
            <div class="space-y-6">
                <!-- Player Stats -->
                <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <i class="fas fa-user-ninja text-red-400 mr-2"></i> Warrior Stats
                    </h3>
                    <div class="space-y-4">
                        <div class="bg-gray-900/50 p-3 rounded-lg border border-red-500/30">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-red-400 font-bold">❤️ Health</span>
                                <span class="text-red-400 font-bold" id="hp">100</span>
                            </div>
                            <div class="hp-bar bg-gray-700 rounded-full" style="--hp: 100%" id="hp-bar"></div>
                        </div>
                        
                        <div class="bg-gray-900/50 p-3 rounded-lg border border-blue-500/30">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-blue-400 font-bold">⭐ XP</span>
                                <span class="text-blue-400 font-bold" id="xp">0</span>
                            </div>
                            <div class="xp-bar bg-gray-700 rounded-full" style="--xp: 0%" id="xp-bar"></div>
                        </div>
                        
                        <div class="bg-gray-900/50 p-3 rounded-lg border border-yellow-500/30">
                            <div class="flex items-center justify-between">
                                <span class="text-yellow-400 font-bold">🏆 Achievements</span>
                                <span class="text-yellow-400 font-bold" id="achievements">0</span>
                            </div>
                        </div>
                        
                        <div class="bg-gray-900/50 p-3 rounded-lg border border-purple-500/30">
                            <div class="flex items-center justify-between">
                                <span class="text-purple-400 font-bold">🔥 Streak</span>
                                <span class="text-purple-400 font-bold" id="streak">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mission List -->
                <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                    <h3 class="text-lg font-bold flex items-center mb-4">
                        <i class="fas fa-list-check mr-2 text-red-400"></i> Battle Missions
                        <span class="ml-auto text-sm text-gray-400" id="missions-completed">0/50 completed</span>
                    </h3>
                    
                    <div class="max-h-64 overflow-y-auto space-y-3" id="mission-list">
                        <!-- Missions will be dynamically generated here -->
                    </div>

                    <button class="w-full bg-gray-800 hover:bg-gray-700 py-2 rounded-lg text-sm flex items-center justify-center transition-colors mt-4" id="show-more-btn">
                        <i class="fas fa-chevron-down mr-2"></i> Show All Missions
                    </button>
                </div>
            </div>
        </main>
    </div>
    </div>

    <!-- Achievement Popup -->
    <div class="fixed top-4 right-4 w-80 bg-gray-800 border-l-4 border-red-500 rounded-r-lg shadow-xl p-4 transform transition-all duration-300 translate-x-full z-50" id="achievement-popup">
        <div class="flex items-start">
            <div class="bg-red-500/20 p-2 rounded-lg mr-3">
                <i class="fas fa-trophy text-red-400 text-xl"></i>
            </div>
            <div>
                <h4 class="font-bold text-red-400" id="achievement-title">Victory!</h4>
                <p class="text-sm text-gray-300" id="achievement-description">Battle won successfully!</p>
                <p class="text-xs text-blue-400 mt-1" id="achievement-xp">+50 XP</p>
            </div>
        </div>
    </div>

    <!-- Level Up Modal -->
    <div class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center hidden z-50" id="levelup-modal">
        <div class="bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 border border-red-500/50 text-center">
            <div class="bg-red-500/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-level-up-alt text-red-400 text-3xl"></i>
            </div>
            <h2 class="text-3xl font-bold text-red-400 mb-2">⚔️ LEVEL UP! ⚔️</h2>
            <p class="text-gray-300 mb-4">You've advanced to Level <span id="new-level-text">2</span>!</p>
            <p class="text-sm text-gray-400 mb-6">+100 HP restored, new missions unlocked!</p>
            <button class="bg-red-600 hover:bg-red-700 px-6 py-2 rounded-lg transition-colors" id="continue-btn">
                Continue Battle
            </button>
        </div>
    </div>

    <!-- Death Modal -->
    <div class="death-modal hidden" id="death-modal">
        <div class="bg-gray-900 rounded-2xl p-8 max-w-md w-full mx-4 border-4 border-red-500 text-center">
            <div class="bg-red-500/20 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-skull text-red-400 text-4xl"></i>
            </div>
            <h2 class="text-4xl font-bold text-red-400 mb-4">💀 YOU DIED! 💀</h2>
            <p class="text-gray-300 mb-2 text-lg">Your HP reached 0!</p>
            <p class="text-gray-400 mb-6">The battlefield has claimed another warrior...</p>
            <div class="space-y-3">
                <button class="w-full bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg transition-colors" id="restart-btn">
                    <i class="fas fa-redo mr-2"></i> Rise Again (Restart)
                </button>
                <button class="w-full bg-gray-700 hover:bg-gray-600 px-6 py-3 rounded-lg transition-colors" id="revive-btn">
                    <i class="fas fa-heart mr-2"></i> Revive with 50 HP
                </button>
            </div>
        </div>
    </div>

    <!-- Level Up Modal -->
    <div class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center hidden z-50" id="levelup-modal">
        <div class="bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 border border-red-500/50 text-center">
            <div class="bg-red-500/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-level-up-alt text-red-400 text-3xl"></i>
            </div>
            <h2 class="text-3xl font-bold text-red-400 mb-2">⚔️ LEVEL UP! ⚔️</h2>
            <p class="text-gray-300 mb-4">You've advanced to Level <span id="new-level-text">2</span>!</p>
            <p class="text-sm text-gray-400 mb-6">+100 HP restored, new missions unlocked!</p>
            <button class="bg-red-600 hover:bg-red-700 px-6 py-2 rounded-lg transition-colors" id="continue-btn">
                Continue Battle
            </button>
        </div>
    </div>

    <!-- Help Suggestion Modal -->
    <div class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center hidden z-50" id="help-suggestion-modal">
        <div class="bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 border border-yellow-500/50 text-center">
            <div class="bg-yellow-500/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-lightbulb text-yellow-400 text-3xl"></i>
            </div>
            <h2 class="text-2xl font-bold text-yellow-400 mb-3">💡 Need Some Help?</h2>
            <p class="text-gray-300 mb-4">Having difficulty with Git commands? Our interactive learning levels can help you master the basics!</p>
            <p class="text-sm text-gray-400 mb-6">Visit our step-by-step tutorials to build your Git skills before tackling these challenges.</p>
            
            <div class="flex flex-col space-y-3 mb-4">
                <button class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg transition-colors flex items-center justify-center" id="visit-levels-btn">
                    <i class="fas fa-graduation-cap mr-2"></i>
                    Yes, Take Me to Levels
                </button>
                <button class="bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg transition-colors" id="stay-challenge-btn">
                    No, I'll Keep Trying
                </button>
            </div>
            
            <div class="flex items-center justify-center space-x-2 text-sm">
                <input type="checkbox" id="dont-remind-checkbox" class="w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500">
                <label for="dont-remind-checkbox" class="text-gray-400 cursor-pointer">
                    Don't remind me again
                </label>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>GitGarden</h3>
                    <p>Transforming Git learning into epic adventures, one command at a time. Join thousands of developers leveling up their skills!</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Access</h3>
                    <a href="../index.html#levels">Levels</a>
                    <a href="challeneges.html">Arena</a>
                    <a href="about_us.html">Our Story</a>
                    <a href="contact_us.html">Connect</a>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <a href="https://git-scm.com/book/en/v2/Getting-Started-What-is-Git%3F" target="_blank">Git Mastery Guide</a>
                    <a href="https://github.com/community" target="_blank">Community Hub</a>
                    <a href="./HTML/contact_us.html">Support Center</a>
                    <a href="https://github.blog/" target="_blank">Blog</a>
                </div>
                <div class="footer-section">
                    <h3>Join Community</h3>
                    <a href="https://github.com/nishkarsa/git-garden.git" target="_blank">GitHub</a>
                    <a href="https://discord.gg/AKku6Vts" target="_blank">Discord Server</a>
                    <a href="x.com" target="_blank">X</a>
                    <a href="https://www.linkedin.com/company/github/posts/?feedView=all" target="_blank">LinkedIn</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 GitGarden. Crafted with 💚 for the epic developer community.</p>
            </div>
        </div>
    </footer>

        <script>
        // Navbar scroll behavior
        let lastScrollTop = 0;
        const navbar = document.getElementById('navbar');

        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                // Scrolling down
                navbar.classList.add('hidden');
            } else {
                // Scrolling up
                navbar.classList.remove('hidden');
            }
            
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        });

        // Mobile menu toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');

        if (hamburger && navMenu) {
            hamburger.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });
        }

        // Create floating particles
        // Function to create animated particles in the background
        function createParticles() {
            const bgAnimation = document.querySelector('.animated-bg'); // Use .animated-bg as the container
            const particleCount = 30; // number of particles to create

            // loop to create and position particles
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div'); // create a new div for each particle
                particle.className = 'particle'; // assign the 'particle' class for styling
                particle.style.left = Math.random() * 100 + '%'; // random horizontal position
                particle.style.top = Math.random() * 100 + '%'; // random vertical position
                particle.style.animationDelay = Math.random() * 6 + 's'; // random delay before animation starts
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's'; // random duration for the animation
                bgAnimation.appendChild(particle); // add the particle to the background
            }
        }

        // Initialize particles when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
        });

        // Game State
        let gameState = {
            level: 1,
            hp: 100,
            maxHp: 100,
            xp: 0,
            xpNeeded: 1000,
            achievements: 0,
            streak: 0,
            currentMission: 1,
            completedMissions: 0,
            totalMissions: 50,
            wrongCommandCount: 0,
            dontRemindHelp: false
        };

        // Mission Data - Complete 50 missions with progressive difficulty
        const missions = [
            // Level 1 - Beginner (Missions 1-10)
            {
                title: "Initialize Your Arsenal",
                description: "Welcome to the battlefield, warrior! Your first mission is to initialize a Git repository. Think about what command creates a new repository from scratch.",
                command: "git init",
                hint: "You need to create a new Git repository. Think about the command that initializes version control in a directory.",
                difficulty: "Beginner",
                xp: 50,
                unlockLevel: 1
            },
            {
                title: "First Blood",
                description: "Create a README.md file and add it to the staging area. Think about the command that prepares files for commitment.",
                command: "git add README.md",
                hint: "You need to stage a file for the next commit. Consider which command prepares files for version control.",
                difficulty: "Beginner", 
                xp: 75,
                unlockLevel: 1
            },
            {
                title: "Seal the Victory",
                description: "Commit your staged files with a meaningful message. Remember to include a descriptive message about your changes.",
                command: "git commit -m \"First victory\"",
                hint: "You need to save your staged changes permanently. Think about the command that creates a snapshot with a message.",
                difficulty: "Beginner",
                xp: 100,
                unlockLevel: 1
            },
            {
                title: "Battlefield Status",
                description: "Check your repository's current state. You need to see what files are staged, modified, or untracked.",
                command: "git status",
                hint: "You want to see the current state of your working directory and staging area. What command shows this information?",
                difficulty: "Beginner",
                xp: 50,
                unlockLevel: 1
            },
            {
                title: "War History",
                description: "View your battle history to see all the commits you've made. Think about reviewing your project's timeline.",
                command: "git log",
                hint: "You need to see the history of commits in your repository. What command displays the commit timeline?",
                difficulty: "Beginner",
                xp: 75,
                unlockLevel: 1
            },
            {
                title: "Stage All Weapons",
                description: "Add all modified files to the staging area at once. Think about how to stage multiple files efficiently.",
                command: "git add .",
                hint: "You want to stage all changes in your working directory. Consider using a wildcard to add everything.",
                difficulty: "Beginner",
                xp: 75,
                unlockLevel: 1
            },
            {
                title: "Quick Commit Strike",
                description: "Stage and commit all changes in one swift move. Think about combining staging and committing operations.",
                command: "git commit -am \"Quick update\"",
                hint: "You want to stage all modified files and commit them in one command. Look for a flag that combines these actions.",
                difficulty: "Beginner",
                xp: 100,
                unlockLevel: 1
            },
            {
                title: "File Removal",
                description: "Remove a file from both your working directory and Git tracking. Think about proper file deletion in Git.",
                command: "git rm unwanted.txt",
                hint: "You need to remove a file from Git tracking and your filesystem. What command handles Git file deletion?",
                difficulty: "Beginner",
                xp: 75,
                unlockLevel: 1
            },
            {
                title: "Move and Rename",
                description: "Rename or move a file while keeping Git history intact. Think about preserving file history during moves.",
                command: "git mv oldfile.txt newfile.txt",
                hint: "You want to rename or move a file while preserving its Git history. What command handles Git file movements?",
                difficulty: "Beginner",
                xp: 100,
                unlockLevel: 1
            },
            {
                title: "Difference Detective",
                description: "See what changes you've made to your files before staging. Think about comparing your working directory with the last commit.",
                command: "git diff",
                hint: "You want to see the changes you've made to tracked files. What command shows differences between versions?",
                difficulty: "Beginner",
                xp: 75,
                unlockLevel: 1
            },

            // Level 2 - Intermediate (Missions 11-20)
            {
                title: "Branch Creation",
                description: "Create a new branch for feature development. Think about parallel development workflows.",
                command: "git branch feature",
                hint: "You need to create a new line of development. What command creates a new branch without switching to it?",
                difficulty: "Intermediate",
                xp: 100,
                unlockLevel: 2
            },
            {
                title: "Branch Switching",
                description: "Switch to your newly created branch. Think about changing your working context.",
                command: "git checkout feature",
                hint: "You want to switch your working directory to a different branch. What command changes your current branch?",
                difficulty: "Intermediate",
                xp: 100,
                unlockLevel: 2
            },
            {
                title: "Swift Branch Creation",
                description: "Create and switch to a new branch in one command. Think about efficiency in branch operations.",
                command: "git checkout -b development",
                hint: "You want to create a new branch and immediately switch to it. Look for a flag that combines these operations.",
                difficulty: "Intermediate",
                xp: 125,
                unlockLevel: 2
            },
            {
                title: "Branch Reconnaissance",
                description: "List all branches in your repository. Think about getting an overview of all available branches.",
                command: "git branch",
                hint: "You want to see all the branches that exist in your repository. What command lists branch information?",
                difficulty: "Intermediate",
                xp: 75,
                unlockLevel: 2
            },
            {
                title: "The Merge War",
                description: "Merge your feature branch back to main. Think about combining different lines of development.",
                command: "git merge feature",
                hint: "You want to integrate changes from one branch into your current branch. What command combines branches?",
                difficulty: "Intermediate",
                xp: 150,
                unlockLevel: 2
            },
            {
                title: "Remote Conquest",
                description: "Add a remote repository connection. Think about linking your local repo to a hosting service.",
                command: "git remote add origin https://github.com/user/repo.git",
                hint: "You need to connect your local repository to a remote server. What command establishes remote connections?",
                difficulty: "Intermediate",
                xp: 125,
                unlockLevel: 2
            },
            {
                title: "Push to Victory",
                description: "Upload your local commits to the remote repository. Think about sharing your work with others.",
                command: "git push origin main",
                hint: "You want to upload your local changes to a remote repository. What command sends commits to a remote server?",
                difficulty: "Intermediate",
                xp: 150,
                unlockLevel: 2
            },
            {
                title: "Remote Intelligence",
                description: "Download changes from the remote repository without merging. Think about fetching updates safely.",
                command: "git fetch origin",
                hint: "You want to get the latest changes from remote without affecting your working directory. What command downloads remote updates?",
                difficulty: "Intermediate",
                xp: 125,
                unlockLevel: 2
            },
            {
                title: "Pull and Integrate",
                description: "Download and merge remote changes in one operation. Think about staying synchronized with remote updates.",
                command: "git pull origin main",
                hint: "You want to fetch remote changes and merge them into your current branch. What command combines fetch and merge?",
                difficulty: "Intermediate",
                xp: 150,
                unlockLevel: 2
            },
            {
                title: "Clone Mastery",
                description: "Create a local copy of a remote repository. Think about starting work on an existing project.",
                command: "git clone https://github.com/user/repo.git",
                hint: "You want to create a local copy of a remote repository. What command downloads and sets up a complete repository?",
                difficulty: "Intermediate",
                xp: 125,
                unlockLevel: 2
            },
                        // Level 3 - Advanced Intermediate (Missions 21-30)
            {
                title: "Staged Difference Analysis",
                description: "View the differences between staged files and the last commit. Think about reviewing what you're about to commit.",
                command: "git diff --staged",
                hint: "Use 'git diff' with the '--staged' flag to see staged changes.",
                difficulty: "Intermediate",
                xp: 125,
                unlockLevel: 3
            },
            {
                title: "Branch Cleanup",
                description: "Delete a branch that's no longer needed. Think about maintaining a clean repository structure.",
                command: "git branch -d feature",
                hint: "Use 'git branch' with the '-d' flag followed by the branch name.",
                difficulty: "Intermediate",
                xp: 100,
                unlockLevel: 3
            },
            {
                title: "Force Branch Removal",
                description: "Force delete an unmerged branch. Think about removing branches with unmerged changes (use with caution!).",
                command: "git branch -D experimental",
                hint: "Use 'git branch' with capital '-D' flag to force delete a branch.",
                difficulty: "Intermediate",
                xp: 150,
                unlockLevel: 3
            },
            {
                title: "Unstage Files",
                description: "Remove files from the staging area without losing changes. Think about undoing the git add operation.",
                command: "git reset HEAD file.txt",
                hint: "Use 'git reset HEAD' followed by the filename to unstage.",
                difficulty: "Intermediate",
                xp: 125,
                unlockLevel: 3
            },
            {
                title: "Commit Amendment",
                description: "Modify your last commit message or add forgotten changes. Think about fixing your most recent commit.",
                command: "git commit --amend -m \"Fixed commit message\"",
                hint: "Use 'git commit --amend -m' followed by your new message in quotes.",
                difficulty: "Intermediate",
                xp: 150,
                unlockLevel: 3
            },
            {
                title: "File Recovery",
                description: "Restore a file to its last committed state. Think about discarding unwanted changes to a specific file.",
                command: "git checkout -- file.txt",
                hint: "Use 'git checkout --' followed by the filename to restore it.",
                difficulty: "Intermediate",
                xp: 125,
                unlockLevel: 3
            },
            {
                title: "Tag Creation",
                description: "Create a tag to mark an important version or release. Think about creating milestone markers in your history.",
                command: "git tag v1.0",
                hint: "Use 'git tag' followed by your tag name (like v1.0).",
                difficulty: "Intermediate",
                xp: 100,
                unlockLevel: 3
            },
            {
                title: "Tag with Message",
                description: "Create an annotated tag with a detailed message. Think about adding descriptive information to your version markers.",
                command: "git tag -a v1.1 -m \"Release version 1.1\"",
                hint: "Use 'git tag -a tagname -m' followed by your message in quotes.",
                difficulty: "Intermediate",
                xp: 125,
                unlockLevel: 3
            },
            {
                title: "Remote Branch Push",
                description: "Push a local branch to create a new remote branch. Think about sharing a new feature branch with your team.",
                command: "git push origin feature-branch",
                hint: "Use 'git push origin' followed by your branch name.",
                difficulty: "Intermediate",
                xp: 150,
                unlockLevel: 3
            },
            {
                title: "Remote Branch Tracking",
                description: "Set up your local branch to track a remote branch. Think about establishing a connection for easier push/pull operations.",
                command: "git branch --set-upstream-to=origin/main main",
                hint: "Use 'git branch --set-upstream-to=origin/branchname' followed by your local branch.",
                difficulty: "Intermediate",
                xp: 150,
                unlockLevel: 3
            },

            // Level 4 - Advanced (Missions 31-40)
            {
                title: "Stash Your Progress",
                description: "Temporarily save your uncommitted changes. Think about switching contexts without losing work.",
                command: "git stash",
                hint: "Simply use 'git stash' to save your current work temporarily.",
                difficulty: "Advanced",
                xp: 150,
                unlockLevel: 4
            },
            {
                title: "Stash with Message",
                description: "Save your changes with a descriptive message for easy identification. Think about organizing multiple stashed changes.",
                command: "git stash save \"Work in progress on feature\"",
                hint: "Use 'git stash save' followed by your message in quotes.",
                difficulty: "Advanced",
                xp: 175,
                unlockLevel: 4
            },
            {
                title: "Stash Recovery",
                description: "Restore your most recent stashed changes. Think about retrieving your temporarily saved work.",
                command: "git stash pop",
                hint: "Use 'git stash pop' to restore and remove your latest stash.",
                difficulty: "Advanced",
                xp: 150,
                unlockLevel: 4
            },
            {
                title: "Cherry Pick Victory",
                description: "Apply a specific commit from another branch to your current branch. Think about selective commit integration.",
                command: "git cherry-pick abc1234",
                hint: "Use 'git cherry-pick' followed by the commit hash you want to apply.",
                difficulty: "Advanced",
                xp: 200,
                unlockLevel: 4
            },
            {
                title: "Interactive Rebase",
                description: "Start an interactive rebase to modify commit history. Think about rewriting and organizing your commits.",
                command: "git rebase -i HEAD~3",
                hint: "Use 'git rebase -i HEAD~' followed by the number of commits to modify.",
                difficulty: "Advanced",
                xp: 225,
                unlockLevel: 4
            },
            {
                title: "Conflict Resolution",
                description: "Mark merge conflicts as resolved after manual editing. Think about completing the merge process.",
                command: "git add resolved-file.txt",
                hint: "After manually editing conflicts, use 'git add' on the resolved file.",
                difficulty: "Advanced",
                xp: 175,
                unlockLevel: 4
            },
            {
                title: "Show Commit Details",
                description: "Display detailed information about a specific commit. Think about inspecting what changed in a particular commit.",
                command: "git show abc1234",
                hint: "Use 'git show' followed by the commit hash to see commit details.",
                difficulty: "Advanced",
                xp: 150,
                unlockLevel: 4
            },
            {
                title: "Blame Investigation",
                description: "See who last modified each line of a file. Think about tracking down the author of specific changes.",
                command: "git blame file.txt",
                hint: "Use 'git blame' followed by the filename to see line-by-line authorship.",
                difficulty: "Advanced",
                xp: 175,
                unlockLevel: 4
            },
            {
                title: "Reflog Navigation",
                description: "View the history of HEAD movements to recover lost commits. Think about Git's safety net for your actions.",
                command: "git reflog",
                hint: "Simply use 'git reflog' to see the reference log of your HEAD movements.",
                difficulty: "Advanced",
                xp: 200,
                unlockLevel: 4
            },
            {
                title: "Reset to Previous State",
                description: "Reset your repository to a previous commit, keeping changes in working directory. Think about undoing commits while preserving work.",
                command: "git reset --soft HEAD~1",
                hint: "Use 'git reset --soft HEAD~1' to undo the last commit but keep changes staged.",
                difficulty: "Advanced",
                xp: 200,
                unlockLevel: 4
            },

            // Level 5 - Expert (Missions 41-45)
            {
                title: "Submodule Addition",
                description: "Add another Git repository as a submodule. Think about including external projects within your repository.",
                command: "git submodule add https://github.com/user/library.git lib",
                hint: "Use 'git submodule add [URL] [path]' - the URL is the repo and path is where to place it.",
                difficulty: "Expert",
                xp: 250,
                unlockLevel: 5
            },
            {
                title: "Worktree Creation",
                description: "Create a new working tree to work on multiple branches simultaneously. Think about having multiple checkouts of the same repository.",
                command: "git worktree add ../feature-work feature-branch",
                hint: "Use 'git worktree add [path] [branch]' - path is where to create it, branch is which branch to check out.",
                difficulty: "Expert",
                xp: 275,
                unlockLevel: 5
            },
            {
                title: "Bisect Start",
                description: "Start a binary search to find the commit that introduced a bug. Think about efficiently hunting down problematic commits.",
                command: "git bisect start",
                hint: "Simply use 'git bisect start' to begin the binary search process.",
                difficulty: "Expert",
                xp: 250,
                unlockLevel: 5
            },
            {
                title: "Archive Creation",
                description: "Create a tar archive of your repository at a specific commit. Think about creating distribution packages.",
                command: "git archive --format=tar HEAD > project.tar",
                hint: "Use 'git archive --format=tar HEAD >' followed by your filename to create an archive.",
                difficulty: "Expert",
                xp: 225,
                unlockLevel: 5
            },
            {
                title: "Clean Workspace",
                description: "Remove all untracked files and directories from your working directory. Think about cleaning up your workspace.",
                command: "git clean -fd",
                hint: "Use 'git clean -fd' where -f forces the action and -d includes directories.",
                difficulty: "Expert",
                xp: 200,
                unlockLevel: 5
            }
        ];

        // DOM Elements
        const elements = {
            level: document.getElementById('level'),
            hp: document.getElementById('hp'),
            hpBar: document.getElementById('hp-bar'),
            xp: document.getElementById('xp'),
            xpBar: document.getElementById('xp-bar'),
            achievements: document.getElementById('achievements'),
            streak: document.getElementById('streak'),
            progress: document.getElementById('progress'),
            missionsCompleted: document.getElementById('missions-completed'),
            missionTitle: document.getElementById('mission-title'),
            missionDescription: document.getElementById('mission-description'),
            difficulty: document.getElementById('difficulty'),
            missionXp: document.getElementById('mission-xp'),
            branchStatus: document.getElementById('branch-status'),
            commandInput: document.getElementById('command-input'),
            attackButton: document.getElementById('attack-button'),
            hintButton: document.getElementById('hint-button'),
            retreatButton: document.getElementById('retreat-button'),
            hintBox: document.getElementById('hint-box'),
            hintText: document.getElementById('hint-text'),
            successBox: document.getElementById('success-box'),
            successText: document.getElementById('success-text'),
            errorBox: document.getElementById('error-box'),
            errorText: document.getElementById('error-text'),
            terminalOutput: document.getElementById('terminal-output'),
            terminalInput: document.getElementById('terminal-input'),
            missionList: document.getElementById('mission-list'),
            achievementPopup: document.getElementById('achievement-popup'),
            levelupModal: document.getElementById('levelup-modal'),
            continueBtn: document.getElementById('continue-btn'),
            newLevelText: document.getElementById('new-level-text'),
            clearTerminal: document.getElementById('clear-terminal'),
            helpTerminal: document.getElementById('help-terminal'),
            deathModal: document.getElementById('death-modal'),
            restartBtn: document.getElementById('restart-btn'),
            reviveBtn: document.getElementById('revive-btn'),
            helpSuggestionModal: document.getElementById('help-suggestion-modal'),
            visitLevelsBtn: document.getElementById('visit-levels-btn'),
            stayChallengeBtn: document.getElementById('stay-challenge-btn'),
            dontRemindCheckbox: document.getElementById('dont-remind-checkbox')
        };

        // Initialize Game
        function initGame() {
            updateUI();
            loadMission(gameState.currentMission - 1);
            generateMissionList();
            addToTerminal("Welcome to Git Warrior! Use 'help' for system commands.", 'system');
        }

        // Update UI Elements
        function updateUI() {
            elements.level.textContent = gameState.level;
            elements.hp.textContent = gameState.hp;
            elements.xp.textContent = gameState.xp;
            elements.achievements.textContent = gameState.achievements;
            elements.streak.textContent = gameState.streak;
            elements.progress.textContent = `${gameState.completedMissions}/${gameState.totalMissions}`;
            elements.missionsCompleted.textContent = `${gameState.completedMissions}/${gameState.totalMissions} completed`;
            
            // Update HP bar
            const hpPercent = (gameState.hp / gameState.maxHp) * 100;
            elements.hpBar.style.setProperty('--hp', `${hpPercent}%`);
            
            // Update XP bar
            const xpPercent = (gameState.xp / gameState.xpNeeded) * 100;
            elements.xpBar.style.setProperty('--xp', `${xpPercent}%`);
            
            // Update button states
            elements.hintButton.disabled = gameState.hp < 25;
            elements.retreatButton.disabled = gameState.hp < 50;
            
            if (gameState.hp < 25) {
                elements.hintButton.classList.add('opacity-50', 'cursor-not-allowed');
                elements.hintButton.innerHTML = '<i class="fas fa-shield-alt mr-2"></i> Hint (Not enough HP)';
            } else {
                elements.hintButton.classList.remove('opacity-50', 'cursor-not-allowed');
                elements.hintButton.innerHTML = '<i class="fas fa-shield-alt mr-2"></i> Hint (-25 HP)';
            }
            
            if (gameState.hp < 50) {
                elements.retreatButton.classList.add('opacity-50', 'cursor-not-allowed');
                elements.retreatButton.innerHTML = '<i class="fas fa-flag mr-2"></i> Retreat (Not enough HP)';
            } else {
                elements.retreatButton.classList.remove('opacity-50', 'cursor-not-allowed');
                elements.retreatButton.innerHTML = '<i class="fas fa-flag mr-2"></i> Retreat (-50 HP)';
            }
        }

        // Load Mission
        function loadMission(index) {
            if (index >= missions.length) return;
            
            const mission = missions[index];
            elements.missionTitle.textContent = mission.title;
            elements.missionDescription.innerHTML = mission.description;
            elements.difficulty.textContent = mission.difficulty;
            elements.missionXp.textContent = `+${mission.xp} XP`;
            elements.hintText.textContent = mission.hint;
            
            // Update difficulty color
            elements.difficulty.className = 'px-3 py-1 rounded-full text-sm';
            if (mission.difficulty === 'Beginner') {
                elements.difficulty.classList.add('bg-green-500/20', 'text-green-400');
            } else if (mission.difficulty === 'Intermediate') {
                elements.difficulty.classList.add('bg-yellow-500/20', 'text-yellow-400');
            } else if (mission.difficulty === 'Hard') {
                elements.difficulty.classList.add('bg-orange-500/20', 'text-orange-400');
            } else if (mission.difficulty === 'Expert') {
                elements.difficulty.classList.add('bg-red-500/20', 'text-red-400');
            } else if (mission.difficulty === 'Master') {
                elements.difficulty.classList.add('bg-purple-500/20', 'text-purple-400');
            } else {
                elements.difficulty.classList.add('bg-pink-500/20', 'text-pink-400');
            }
            
            // Update branch status
            updateBranchStatus(index);
            
            // Hide all message boxes
            elements.hintBox.classList.add('hidden');
            elements.successBox.classList.add('hidden');
            elements.errorBox.classList.add('hidden');
            
            elements.commandInput.value = '';
            elements.commandInput.focus();
        }

        // Update Branch Status
        function updateBranchStatus(missionIndex) {
            if (missionIndex < 1) {
                elements.branchStatus.textContent = 'no git repo';
            } else if (missionIndex < 6) {
                elements.branchStatus.textContent = 'main';
            } else if (missionIndex < 8) {
                elements.branchStatus.textContent = 'feature';
            } else if (missionIndex < 12) {
                elements.branchStatus.textContent = 'main';
            } else if (missionIndex < 15) {
                elements.branchStatus.textContent = 'development';
            } else {
                elements.branchStatus.textContent = 'main *';
            }
        }

        // Generate Mission List
        function generateMissionList() {
            elements.missionList.innerHTML = '';
            
            missions.forEach((mission, index) => {
                const missionCard = document.createElement('div');
                missionCard.className = 'mission-card bg-gray-800 rounded-lg p-3 border-2';
                
                const isUnlocked = gameState.level >= mission.unlockLevel;
                const isCompleted = index < gameState.currentMission - 1;
                const isActive = index === gameState.currentMission - 1;
                
                if (isCompleted) {
                    missionCard.classList.add('completed', 'border-green-500');
                } else if (isActive && isUnlocked) {
                    missionCard.classList.add('active', 'border-red-500');
                } else if (isUnlocked) {
                    missionCard.classList.add('border-blue-500');
                } else {
                    missionCard.classList.add('locked', 'border-gray-600');
                }
                
                let iconClass = 'fas fa-lock text-gray-500';
                if (isCompleted) {
                    iconClass = 'fas fa-check-circle text-green-400';
                } else if (isActive && isUnlocked) {
                    iconClass = 'fas fa-sword text-red-400';
                } else if (isUnlocked) {
                    iconClass = 'fas fa-play text-blue-400';
                }
                
                missionCard.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex-grow">
                            <h4 class="font-bold flex items-center text-sm">
                                <i class="${iconClass} mr-2 text-xs"></i>
                                ${mission.title}
                            </h4>
                            <p class="text-xs mt-1 ${isUnlocked ? 'text-gray-400' : 'text-gray-500'}">${mission.difficulty} • Level ${mission.unlockLevel}</p>
                        </div>
                        <span class="px-2 py-0.5 rounded-full text-xs ${isCompleted ? 'bg-green-500/20 text-green-400' : isActive ? 'bg-red-500/20 text-red-400' : isUnlocked ? 'bg-blue-500/20 text-blue-400' : 'bg-gray-500/20 text-gray-400'}">
                            +${mission.xp}
                        </span>
                    </div>
                `;
                
                if (isUnlocked && !isCompleted) {
                    missionCard.style.cursor = 'pointer';
                    missionCard.addEventListener('click', () => {
                        if (index !== gameState.currentMission - 1) {
                            gameState.currentMission = index + 1;
                            loadMission(index);
                            generateMissionList();
                        }
                    });
                }
                
                elements.missionList.appendChild(missionCard);
            });
        }

        // Execute Command
        function executeCommand(command) {
            const mission = missions[gameState.currentMission - 1];
            const trimmedCommand = command.trim().toLowerCase();
            const expectedCommand = mission.command.toLowerCase();
            
            addToTerminal(`warrior@battlefield:~$ ${command}`, 'input');
            
            // Check command
            if (trimmedCommand === expectedCommand || isCommandValid(trimmedCommand, expectedCommand)) {
                // Success!
                const output = getCommandOutput(mission.command);
                addToTerminal(output, 'success');
                completeMission(mission);
            } else {
                // Failure
                gameState.wrongCommandCount++;
                takeDamage(10);
                const errorMsg = getErrorMessage(trimmedCommand, expectedCommand);
                addToTerminal(errorMsg, 'error');
                showError("Command failed! Check the mission description for guidance.");
                
                // Show help suggestion after 3 wrong attempts (if not disabled)
                if (gameState.wrongCommandCount >= 3 && !gameState.dontRemindHelp) {
                    showHelpSuggestion();
                }
 
            }
            
            elements.commandInput.value = '';
        }

                // Check if command is valid (with some flexibility)
        function isCommandValid(input, expected) {
            // Handle git commit with different messages
            if (expected.includes('git commit -m') && input.startsWith('git commit -m')) {
                return true;
            }
            
            // Handle git remote add with different URLs
            if (expected.includes('git remote add origin') && input.startsWith('git remote add origin')) {
                return true;
            }

            // Handle git commit -am with different messages
            if (expected.includes('git commit -am') && input.startsWith('git commit -am')) {
                return true;
            }

            // Handle git tag with different versions/messages
            if (expected.includes('git tag -a') && input.startsWith('git tag -a')) {
                return true;
            }

            // Handle git submodule add with different URLs/paths
            if (expected.includes('git submodule add') && input.startsWith('git submodule add')) {
                return true;
            }

            // Handle git worktree add with different paths
            if (expected.includes('git worktree add') && input.startsWith('git worktree add')) {
                return true;
            }

            // Handle git bundle create with different names
            if (expected.includes('git bundle create') && input.startsWith('git bundle create')) {
                return true;
            }

            // Handle git archive with different formats/names
            if (expected.includes('git archive') && input.startsWith('git archive')) {
                return true;
            }

            // Handle git format-patch with different ranges
            if (expected.includes('git format-patch') && input.startsWith('git format-patch')) {
                return true;
            }

            // Handle git apply with different patch files
            if (expected.includes('git apply') && input.startsWith('git apply')) {
                return true;
            }

            // Handle git reset with different options
            if (expected.includes('git reset') && input.startsWith('git reset')) {
                return true;
            }

            // Handle git rebase with different branches
            if (expected.includes('git rebase') && input.startsWith('git rebase')) {
                return true;
            }

            // Handle git config commands
            if (expected.includes('git config') && input.startsWith('git config')) {
                return true;
            }

            // Handle echo commands for hooks
            if (expected.includes('echo') && input.startsWith('echo')) {
                return true;
            }
            
            return false;
        }
        
        // Get Command Output
        function getCommandOutput(command) {
            const outputs = {
                'git init': 'Initialized empty Git repository in /warrior-project/.git/',
                'git add README.md': 'File added to staging area.',
                'git commit -m "First victory"': '[main (root-commit) abc123] First victory\n 1 file changed, 0 insertions(+), 0 deletions(-)',
                'git status': 'On branch main\nnothing to commit, working tree clean',
                'git log': 'commit abc123 (HEAD -> main)\nAuthor: Git Warrior\nDate: ' + new Date().toDateString() + '\n\n    First victory',
                'git add .': 'All modified files staged.',
                'git commit -am "Quick update"': '[main def456] Quick update\n 2 files changed, 15 insertions(+), 3 deletions(-)',
                'git rm unwanted.txt': 'rm \'unwanted.txt\'',
                'git mv oldfile.txt newfile.txt': 'File renamed successfully.',
                'git diff': 'diff --git a/file.txt b/file.txt\nindex abc123..def456 100644\n--- a/file.txt\n+++ b/file.txt\n@@ -1,3 +1,4 @@\n line 1\n line 2\n+new line\n line 3',
                'git branch feature': 'Branch "feature" created.',
                'git checkout feature': 'Switched to branch "feature"',
                'git checkout -b development': 'Switched to a new branch "development"',
                'git branch': '* main\n  feature\n  development',
                'git merge feature': 'Merge made by the "recursive" strategy.',
                'git remote add origin https://github.com/user/repo.git': 'Remote "origin" added.',
                'git push origin main': 'Counting objects: 3, done.\nWriting objects: 100% (3/3), 231 bytes | 231.00 KiB/s, done.\nTotal 3 (delta 0), reused 0 (delta 0)',
                'git fetch origin': 'From https://github.com/user/repo\n * branch            main     -> FETCH_HEAD',
                'git pull origin main': 'From https://github.com/user/repo\n * branch            main     -> FETCH_HEAD\nAlready up to date.',
                'git clone https://github.com/user/repo.git': 'Cloning into \'repo\'...\nremote: Counting objects: 100, done.\nremote: Total 100 (delta 0), reused 0 (delta 0)\nReceiving objects: 100% (100/100), done.',
                'git stash': 'Saved working directory and index state WIP on main: abc123 Last commit message',
                'git stash pop': 'On branch main\nChanges not staged for commit:\n  modified:   file.txt\nDropped refs/stash@{0} (def456)',
                'git add -p': 'Interactive staging mode initiated. Choose hunks to stage.',
                'git revert HEAD': '[main ghi789] Revert "Previous commit"\n 1 file changed, 2 insertions(+), 2 deletions(-)',
                'git reset --soft HEAD~1': 'HEAD is now at abc123 Previous commit',
                'git cherry-pick abc123': '[main jkl012] Cherry-picked commit\n 1 file changed, 1 insertion(+)',
                'git rebase main': 'Successfully rebased and updated refs/heads/feature.',
                'git tag -a v1.0 -m "First release"': 'Tag v1.0 created.',
                'git blame README.md': 'abc123 (Git Warrior 2025-01-15 10:30:45 +0000 1) # Project Title\nabc123 (Git Warrior 2025-01-15 10:30:45 +0000 2) This is a demo project.',
                'git bisect start': 'Starting bisect session. Mark good and bad commits to find the issue.',
                'git rebase -i HEAD~3': 'Interactive rebase editor opened. Choose actions for each commit.',
                'git rebase -i HEAD~2': 'Interactive rebase started. Squashing commits...',
                'git reflog': 'abc123 HEAD@{0}: commit: Latest changes\ndef456 HEAD@{1}: commit: Previous work\nghi789 HEAD@{2}: commit: Initial commit',
                'git submodule add https://github.com/user/library.git lib': 'Cloning into \'lib\'...\nSubmodule \'lib\' (https://github.com/user/library.git) registered for path \'lib\'',
                'git worktree add ../feature-branch feature': 'Preparing worktree (new branch \'feature\')\nHEAD is now at abc123 Latest commit',
                'git bundle create repo.bundle HEAD main': 'Bundle created successfully: repo.bundle',
                'git archive --format=zip HEAD > project.zip': 'Archive created: project.zip',
                'git format-patch HEAD~1': '0001-commit-message.patch',
                'git apply patch.patch': 'Patch applied successfully.',
                'git clean -fd': 'Removing untracked-file.txt\nRemoving untracked-directory/',
                'echo \'#!/bin/sh\\nnpm test\' > .git/hooks/pre-commit && chmod +x .git/hooks/pre-commit': 'Pre-commit hook installed successfully.',
                'git filter-branch --force --index-filter \'git rm --cached --ignore-unmatch secrets.txt\'': 'Rewrite abc123 (1/3) (0 seconds passed, remaining 0 predicted)\nRefs/heads/main was rewritten',
                'git config core.sparseCheckout true': 'Sparse checkout enabled.',
                'git subtree add --prefix=vendor/lib https://github.com/user/lib.git main': 'Added dir \'vendor/lib\'',
                'git config --global credential.helper cache': 'Credential caching configured.',
                'git config --global commit.gpgsign true': 'GPG signing enabled for commits.',
                'git config --global alias.publishbranch \'!git push -u origin $(git branch --show-current)\'': 'Alias \'publishbranch\' created.',
                'git checkout --orphan gh-pages': 'Switched to a new branch \'gh-pages\'',
                'git replace abc123 def456': 'Object abc123 replaced with def456.',
                'git config branch.main.mergeOptions \'--no-ff\'': 'Merge strategy configured for main branch.'
            };
            
            return outputs[command] || 'Command executed successfully.';
        }

        // Get Error Message
        function getErrorMessage(input, expected) {
            if (!input.startsWith('git') && !input.startsWith('echo')) {
                return 'Error: Most commands should start with "git"';
            }
            
            return 'Error: Command not recognized. Check the mission description for guidance.';
        }

        // Complete Mission
        function completeMission(mission) {
            gameState.completedMissions++;
            gameState.xp += mission.xp;
            gameState.streak++;
            gameState.wrongCommandCount = 0;
            
            // Check for level up
            if (gameState.xp >= gameState.xpNeeded) {
                levelUp();
            }
            
            showSuccess(`Victory! ${mission.title} completed!`);
            showAchievement('Battle Won!', `${mission.title} completed`, mission.xp);
            
            // Move to next mission
            if (gameState.currentMission < gameState.totalMissions) {
                setTimeout(() => {
                    gameState.currentMission++;
                    loadMission(gameState.currentMission - 1);
                    generateMissionList();
                    updateUI();
                }, 3000);
            } else {
                // Game completed!
                setTimeout(() => {
                    alert('🎉 Congratulations! You have completed all missions and become a Git Legend! 🎉');
                }, 2000);
            }
        }

        // Take Damage
        function takeDamage(amount) {
            gameState.hp = Math.max(0, gameState.hp - amount);
            gameState.streak = 0;
            
            // Add damage animation
            document.body.classList.add('damage-animation');
            setTimeout(() => {
                document.body.classList.remove('damage-animation');
            }, 500);
            
            updateUI();
            
            if (gameState.hp === 0) {
                showDeathModal();
            }
        }

        // Show Death Modal
        function showDeathModal() {
            elements.deathModal.classList.remove('hidden');
        }


        // Restart Game
        function restartGame() {
            gameState = {
                level: 1,
                hp: 100,
                maxHp: 100,
                xp: 0,
                xpNeeded: 1000,
                achievements: 0,
                streak: 0,
                currentMission: 1,
                completedMissions: 0,
                totalMissions: 50,
                wrongCommandCount: 0,
                dontRemindHelp: false
            };
            
            elements.deathModal.classList.add('hidden');
            updateUI();
            loadMission(0);
            generateMissionList();
            
            // Clear terminal
            elements.terminalOutput.innerHTML = `
                <div class="text-red-400 font-bold">🔥 GIT WARRIOR TERMINAL v1.0 🔥</div>
                <div class="text-gray-400 mb-4">Reborn! Ready for battle again!</div>
                <div class="text-yellow-400 mb-2">Use 'help' for system commands</div>
                
                <div class="flex items-center text-green-400">
                    <span>warrior@battlefield:~$ </span>
                    <input type="text" class="terminal-input bg-transparent flex-grow ml-1" id="terminal-input">
                </div>
            `;
            
            attachTerminalListener();
        }

        // Revive with 50 HP
        function reviveWithHP() {
            gameState.hp = 50;
            elements.deathModal.classList.add('hidden');
            updateUI();
            addToTerminal('💚 Revived with 50 HP! Fight on, warrior!', 'system');
        }

        // Level Up
        function levelUp() {
            gameState.level++;
            gameState.xp -= gameState.xpNeeded;
            gameState.xpNeeded = Math.floor(gameState.xpNeeded * 1.5);
            gameState.hp = Math.min(gameState.maxHp, gameState.hp + 25);
            gameState.achievements++;
            
            elements.newLevelText.textContent = gameState.level;
            elements.levelupModal.classList.remove('hidden');
            
            updateUI();
        }

        // Show Success
        function showSuccess(message) {
            elements.successText.textContent = message;
            elements.successBox.classList.remove('hidden');
            setTimeout(() => {
                elements.successBox.classList.add('hidden');
            }, 5000);
        }

        // Show Error
        function showError(message) {
            elements.errorText.textContent = message;
            elements.errorBox.classList.remove('hidden');
            setTimeout(() => {
                elements.errorBox.classList.add('hidden');
            }, 5000);
        }

        // Show Achievement
        function showAchievement(title, description, xp) {
            document.getElementById('achievement-title').textContent = title;
            document.getElementById('achievement-description').textContent = description;
            document.getElementById('achievement-xp').textContent = xp > 0 ? `+${xp} XP` : '';
            
            elements.achievementPopup.classList.remove('translate-x-full');
            setTimeout(() => {
                elements.achievementPopup.classList.add('translate-x-full');
            }, 4000);
        }

        // Show Help Suggestion Modal
        function showHelpSuggestion() {
            elements.helpSuggestionModal.classList.remove('hidden');
        }

        // Hide Help Suggestion Modal
        function hideHelpSuggestion() {
            elements.helpSuggestionModal.classList.add('hidden');
        }

        // Add to Terminal
        function addToTerminal(text, type = 'output') {
            const terminal = elements.terminalOutput;
            const div = document.createElement('div');
            
            div.className = `mb-1 ${type === 'input' ? 'text-yellow-400' : 
                                   type === 'success' ? 'text-green-400' : 
                                   type === 'error' ? 'text-red-400' :
                                   type === 'system' ? 'text-blue-400' : 'text-gray-300'}`;
            
            if (type === 'input') {
                div.innerHTML = text;
            } else {
                div.textContent = text;
            }
            
            terminal.insertBefore(div, terminal.lastElementChild);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Attach Terminal Listener
        function attachTerminalListener() {
            const terminalInput = document.getElementById('terminal-input');
            if (terminalInput) {
                terminalInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        const command = e.target.value.trim();
                        if (command) {
                            if (command === 'help') {
                                addToTerminal('warrior@battlefield:~$ help', 'input');
                                addToTerminal('System commands: help, clear, status, missions, hp, level', 'system');
                                addToTerminal('Note: This terminal shows system info only. Use the main input for Git battles!', 'system');
                            } else if (command === 'clear') {
                                elements.terminalOutput.innerHTML = `
                                    <div class="flex items-center text-green-400">
                                        <span>warrior@battlefield:~$ </span>
                                        <input type="text" class="terminal-input bg-transparent flex-grow ml-1" id="terminal-input">
                                    </div>
                                `;
                                attachTerminalListener();
                            } else if (command === 'status') {
                                addToTerminal('warrior@battlefield:~$ status', 'input');
                                addToTerminal(`Level: ${gameState.level} | HP: ${gameState.hp}/${gameState.maxHp} | XP: ${gameState.xp}/${gameState.xpNeeded}`, 'system');
                            } else if (command === 'missions') {
                                addToTerminal('warrior@battlefield:~$ missions', 'input');
                                addToTerminal(`Progress: ${gameState.completedMissions}/${gameState.totalMissions} missions completed`, 'system');
                            } else if (command === 'hp') {
                                addToTerminal('warrior@battlefield:~$ hp', 'input');
                                addToTerminal(`Health: ${gameState.hp}/${gameState.maxHp} HP`, 'system');
                            } else if (command === 'level') {
                                addToTerminal('warrior@battlefield:~$ level', 'input');
                                addToTerminal(`Current Level: ${gameState.level} | XP Progress: ${gameState.xp}/${gameState.xpNeeded}`, 'system');
                            } else {
                                addToTerminal('warrior@battlefield:~$ ' + command, 'input');
                                addToTerminal('Unknown system command. Use main input above for Git battles!', 'error');
                            }
                            e.target.value = '';
                        }
                    }
                });
            }
        }

        // Event Listeners
        elements.attackButton.addEventListener('click', () => {
            const command = elements.commandInput.value.trim();
            if (command) {
                executeCommand(command);
            } else {
                showError('Enter a command first, warrior!');
            }
        });

        elements.commandInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                elements.attackButton.click();
            }
        });

        elements.hintButton.addEventListener('click', () => {
            if (gameState.hp >= 25) {
                takeDamage(25);
                elements.hintBox.classList.toggle('hidden');
                addToTerminal('💡 Strategic hint revealed (-25 HP)', 'system');
            }
        });

        elements.retreatButton.addEventListener('click', () => {
            if (gameState.hp >= 50) {
                if (confirm('Are you sure you want to retreat? You\'ll lose 50 HP and skip this mission!')) {
                    takeDamage(50);
                    addToTerminal('🏃 Tactical retreat executed (-50 HP)', 'system');
                    
                    if (gameState.currentMission < gameState.totalMissions) {
                        gameState.currentMission++;
                        loadMission(gameState.currentMission - 1);
                        generateMissionList();
                    }
                }
            }
        });

        elements.continueBtn.addEventListener('click', () => {
            elements.levelupModal.classList.add('hidden');
        });

        elements.clearTerminal.addEventListener('click', () => {
            elements.terminalOutput.innerHTML = `
                <div class="text-red-400 font-bold">🔥 GIT WARRIOR TERMINAL v1.0 🔥</div>
                <div class="text-gray-400 mb-4">Terminal cleared. Ready for battle!</div>
                
                <div class="flex items-center text-green-400">
                    <span>warrior@battlefield:~$ </span>
                    <input type="text" class="terminal-input bg-transparent flex-grow ml-1" id="terminal-input">
                </div>
            `;
            
            attachTerminalListener();
        });

        elements.helpTerminal.addEventListener('click', () => {
            addToTerminal('=== GIT WARRIOR HELP ===', 'system');
            addToTerminal('System commands: help, clear, status, missions, hp, level', 'system');
            addToTerminal('Use the main input above for Git battle commands!', 'system');
            addToTerminal('Get hints (-25 HP) or retreat (-50 HP) if needed', 'system');
        });

        elements.restartBtn.addEventListener('click', () => {
            restartGame();
        });

        elements.reviveBtn.addEventListener('click', () => {
            reviveWithHP();
        });

        // Help Suggestion Modal Event Listeners
        elements.visitLevelsBtn.addEventListener('click', () => {
            // Save preference if checkbox is checked
            if (elements.dontRemindCheckbox.checked) {
                gameState.dontRemindHelp = true;
            }
            
            hideHelpSuggestion();
            
            // Redirect to levels page
            window.location.href = '../index.html#levels';
        });

        elements.stayChallengeBtn.addEventListener('click', () => {
            // Save preference if checkbox is checked
            if (elements.dontRemindCheckbox.checked) {
                gameState.dontRemindHelp = true;
            }
            
            hideHelpSuggestion();
            addToTerminal('💪 Warrior spirit! Keep fighting!', 'system');
        });

        // Close help suggestion modal when clicking outside
        elements.helpSuggestionModal.addEventListener('click', (e) => {
            if (e.target === elements.helpSuggestionModal) {
                hideHelpSuggestion();
            }
        });

        // Show All Missions Button Event Listener 
        elements.showMoreBtn = document.getElementById('show-more-btn');

        elements.showMoreBtn.addEventListener('click', () => {
            const missionList = elements.missionList;
            const isAtBottom = missionList.scrollTop + missionList.clientHeight >= missionList.scrollHeight - 10;
            
            if (!isAtBottom) {
                // Scroll to bottom
                missionList.scrollTo({
                    top: missionList.scrollHeight,
                    behavior: 'smooth'
                });
                
                // Update button text
                elements.showMoreBtn.innerHTML = '<i class="fas fa-chevron-up mr-2"></i> Scroll to Top';
            } else {
                // Scroll to top
                missionList.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
                
                // Update button text
                elements.showMoreBtn.innerHTML = '<i class="fas fa-chevron-down mr-2"></i> Show All Missions';
            }
        });
        // Initialize terminal listener
        attachTerminalListener();

        // Initialize the game
        initGame();
    </script>
    
     <script src="../Script/firebase-auth.js"></script>
     <script src="../Script/shared-auth.js"></script>
     <script src="../Script/javascript.js"></script>
   

</body>
</html>